#+TITLE: Clean Repo Clean Heart
#+AUTHOR: Caleb
#+AUTHOR: Zach
#+TODO: TODO(t) IN-PROGRESS(i) WAITING(w) | DONE(d)

* Purpose
  Organize repo to have focused domains and org files that relate only to that domain.  This is to help avoid accidents by over-tangling in org files, and to make the repo easier to understand
* Process  
** DONE Isolate the areas that need fixing
   CLOSED: [2020-03-19 Thu 13:25]
  We could reorganize the folder structures to  have the various components at a top level, and each one contains its own app and deployment info 
  
  #+name: possible structure
  #+begin_example
    | Auditlogger
      - app
      - deployment
      -index.org
    | hasura
      - app
      - deployment
      - index.org
    org
    readme.org
  #+end_example
  
  it's a possible, and discussing it with the team we unanimously like it...so we're doing it.
** DONE [4/4] Figure out what we don't need
   CLOSED: [2020-03-19 Thu 13:25]
*** DONE apps
    CLOSED: [2020-03-19 Thu 11:49]
**** D openapi
     this is a docker-compose setup, and anythiong docker-compose is from an older time that we no longer need to look back to. DELETED
**** D kubemacs
     this is a submodule, and not needed in our repo anymore. DELETED
**** D .env_sample and .loadenv
**** D docker-compose.yml
     anything docker compose DELETED
**** D pgpass_sample
     older but also incorrect port.  DELETED
**** D traefik.yaml
     older, we don't use traefik.  DELETED
*** DONE deployment
    CLOSED: [2020-03-19 Thu 13:11]
**** k8s
***** zz

***** D ZZ
      zz doesnt' use it. DELETED
***** ATTIC xip.io
      This is still interesting, so moved to attic
***** D kubemacs
      all this is contaioned in kubemacs own repo now. DELETED
***** ATTIC kubemacs.org
      Seems like there's quite a bit of research here, so we are preserving it in the attic.
***** ATTIC local
      don't think we are using it, but uncertainty means ATTIC
***** ATTIC hh
      don't think we are using it, but uncertainty means ATTIC
*** DONE kustomize
    CLOSED: [2020-03-19 Thu 13:11]
    nothing not needed, but will be moved in to the various app folders
*** DONE org
    CLOSED: [2020-03-19 Thu 13:25]
    We moved tickets and docs to the root since we are moving to a place where org files are in eveyr folder and don't need to be separate.  Our explorations and archives are still held in norg.
** [0/5] Fix these areas
*** TODO [0/6] Auditlogger
**** IN-PROGRESS Create dir
**** TODO consolidate all files into dir
**** TODO lift app work in various org files into new index.org
**** TODO update tiltfile with new paths
**** TODO relink toplevel kustomize to correct path
**** TODO tilt up test it works
*** TODO [/] Hasura
**** TODO Create dir
**** TODO consolidate all files into dir
**** TODO lift app work in various org files into new index.org
**** TODO update tiltfile with new paths
**** TODO relink toplevel kustomize to correct path
**** TODO tilt up test it works
*** TODO [/] webapp
**** TODO Create dir
**** TODO consolidate all files into dir
**** TODO lift app work in various org files into new index.org
**** TODO update tiltfile with new paths
**** TODO relink toplevel kustomize to correct path
**** TODO tilt up test it works
*** TODO [/] postgres
**** TODO Create dir
**** TODO consolidate all files into dir
**** TODO lift app work in various org files into new index.org
**** TODO update tiltfile with new paths
**** TODO relink toplevel kustomize to correct path
**** TODO tilt up test it works
*** TODO [/] pgadmin
**** TODO Create dir
**** TODO consolidate all files into dir
**** TODO lift app work in various org files into new index.org
**** TODO update tiltfile with new paths
**** TODO relink toplevel kustomize to correct path
**** TODO tilt up test it works
** Test is works

** Move tickets org up to root, and separate into k8s and api tickets
* Conclusion | Next Steps
** Research how to keep go.mod and go.sum separate from our ticket dir
   They are used in the go functions executed in org babel, and it works cos it's go looking for these files in the pwd.  Is there a way we can set the path of these files in all go src blocks, so this isn't needed?
