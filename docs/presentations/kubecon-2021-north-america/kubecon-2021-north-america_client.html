<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Contributing to Kubernetes Conformance Coverage</title>
<meta name="author" content="ii"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://multiplex.kccncna2021.pair.sharing.io/dist/reveal.css"/>

<link rel="stylesheet" href="https://multiplex.kccncna2021.pair.sharing.io/dist/theme/night.css" id="theme"/>
<link rel="stylesheet" href="https://multiplex.kccncna2021.pair.sharing.io/plugin/highlight/zenburn.css"/>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide">
<h1 class="title">Contributing to Kubernetes Conformance Coverage</h1><h2 class="author">ii</h2><p class="date">Created: 2021-08-31 Tue 16:02</p>
</section>

<section>
<section id="slide-orga8d2d5c">
<h2 id="orga8d2d5c">About ii</h2>
<aside class="notes">
<ul>
<li>hello and welcome to &ldquo;contributing to kubernetes conformance coverage&rdquo;</li>
<li>We are with ii, a group in NZ with a focus on cooperative coding.</li>
<li>pairing is sharing for us</li>
<li>you can find us at ii.nz</li>

</ul>

</aside>

<p>
Technical Folks in New Zealand
</p>
<ul>
<li>Focus on Cooperative Coding</li>
<li>Pairing is Sharing</li>
<li><a href="https://ii.nz">ii.nz</a> / <a href="https://ii.coop">ii.coop</a></li>

</ul>

</section>
</section>
<section>
<section id="slide-orgef217df">
<h3 id="orgef217df">People</h3>
<aside class="notes">
<ul>
<li>Hippie Hacker, founder of ii</li>
<li>Caleb and Zach, yr speakers</li>
<li>Stephen, test writer</li>
<li>Riaan, project manager</li>
<li>Berno, helps with the ProwJobs</li>
<li>Brenda, ensures that all of us can actually function</li>

</ul>

</aside>

<ul>
<li>Hippie Hacker</li>
<li>Caleb Woodbine</li>
<li>Zach Mandeville</li>
<li>Stephen Heywood</li>
<li>Berno Kleinhans</li>
<li>Riaan Kleinhans</li>
<li>Brenda Peel</li>

</ul>

</section>
</section>
<section>
<section id="slide-org3ae09ab">
<h2 id="org3ae09ab">Kubernetes Conformance</h2>
<div class="outline-text-2" id="text-org3ae09ab">
</div>
</section>
</section>
<section>
<section id="slide-orgeb4b20b">
<h3 id="orgeb4b20b">What is Kubernetes Conformance?</h3>
<aside class="notes">
<p>
Conformance ensures (as said on cncf.io) that&#x2026;
</p>

<p>
CALEB: It&rsquo;s valuable for all to have consistency of the Kubernetes API where ever it&rsquo;s run.
</p>

</aside>

<p>
CNCF Kubernetes Conformance ensures
</p>
<blockquote>
<p>
&#x2026; that every vendor‚Äôs version of Kubernetes supports the required APIs, as do open source community versions
</p>
</blockquote>
</section>
</section>
<section>
<section id="slide-org8692345">
<h3 id="org8692345">Why is Kubernetes Conformance important?</h3>
<ul>
<li>portability of workloads</li>
<li>stable APIs behave the same everywhere</li>
<li>freedom from vendor lock-in</li>
<li>consistency with APIs</li>

</ul>

<aside class="notes">
<p>
I expect my workloads to be able run the same anywhere k8s does, regardless of vendor.
</p>

</aside>

</section>
</section>
<section>
<section id="slide-org57cccdd">
<h3 id="org57cccdd">Conformance website</h3>
<aside class="notes">
<p>
A good background and rationale for Conformance can be found at:
</p>

</aside>

<p>
<a href="https://cncf.io/ck">cncf.io/ck</a>
</p>


<div id="org1e73966" class="figure">
<p><img src="./kubecon-2021-north-america-ck.png" alt="kubecon-2021-north-america-ck.png" />
</p>
</div>
</section>
</section>
<section>
<section id="slide-org04f19f1">
<h3 id="org04f19f1"><span class="todo TODO">TODO</span> Who can meet your k8spectations?</h3>
<aside class="notes">
<p>
This list is taken from landscape.cncf.io.
You can have consistent, expected, fully-conformanced behaviour across 67 different vendors.
</p>

</aside>

<p>
Currently, there are <b>67 certified distributions</b>.
</p>

<p>
<a href="https://landscape.cncf.io/category=platform&amp;format=card-mode&amp;grouping=category">landscape.cncf.io</a>
</p>


<div id="orgf076c66" class="figure">
<p><img src="./kubecon-2021-north-america-landscape-2.png" alt="kubecon-2021-north-america-landscape-2.png" />
</p>
</div>

<p>
Click <b>Certified K8s/KCSP/KTP</b> link on the left
</p>

</section>
</section>
<section>
<section id="slide-org8b6239a">
<h3 id="org8b6239a">k8s-conformance repo</h3>
<aside class="notes">
<ul>
<li>Vendors are certified, and added to that list, following an open, transparent process on the k8s-conformance repo</li>
<li>We will cover this process in this presentation shortly.</li>

</ul>

</aside>

<p>
<a href="https://github.com/cncf/k8s-conformance">https://github.com/cncf/k8s-conformance</a>
</p>


<div id="org765117b" class="figure">
<p><img src="./kubecon-2021-north-america-conformance-repo.png" alt="kubecon-2021-north-america-conformance-repo.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org9bab23d">
<h2 id="org9bab23d">Conformance as Code</h2>
<ul class="fragment roll-in">
<li>defined through the API and a test suite</li>

</ul>
<ul class="fragment roll-in">
<li>allows for tools to be built that fit within k8s workflows</li>

</ul>
<ul class="fragment roll-in">
<li>two examples: Sonobuoy and APISnoop</li>

</ul>

</section>
</section>
<section>
<section id="slide-org3858755">
<h2 id="org3858755">Certifying Distributions with Sonobuoy</h2>
<div class="outline-text-2" id="text-org3858755">
</div>
</section>
</section>
<section>
<section id="slide-org4e6b493">
<h3 id="org4e6b493">Deploy Sonobuoy</h3>
<p>
Build sonobuoy
</p>
<div class="org-src-container">

<pre><code class="shell" >go get -u -v github.com/vmware-tanzu/sonobuoy@latest
</code></pre>
</div>
<p>
deploy to your cluster
</p>
<div class="org-src-container">

<pre><code class="shell" >sonobuoy run --mode=certified-conformance
</code></pre>
</div>

<aside class="notes">
<p>
Make sure you&rsquo;re running the latest version of Sonobuoy
</p>

</aside>

</section>
</section>
<section>
<section id="slide-org4bf6985">
<h3 id="org4bf6985">view test logs</h3>
<div class="org-src-container">

<pre><code class="shell" >sonobuoy logs
</code></pre>
</div>

<div id="orga4fe368" class="figure">
<p><img src="./sonobuoy-logs.png" alt="sonobuoy-logs.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org5a8ee3f">
<h3 id="org5a8ee3f">Check if sonobuoy is done</h3>
<p>
Check status, and look for <code>complete</code>
</p>
<div class="org-src-container">

<pre><code class="shell" >sonobuoy status
</code></pre>
</div>

<div id="org4e43984" class="figure">
<p><img src="./sonobuoy-status.png" alt="sonobuoy-status.png" />
</p>
</div>
<aside class="notes">
<p>
in this example, only one test was run and maaaany were skipped, so we did an
incomplete test run.
</p>

<p>
This will become important later, at the end of this talk.
</p>

</aside>

</section>
</section>
<section>
<section id="slide-org28a0aac">
<h3 id="org28a0aac">Get Results</h3>
<aside class="notes">
<ul>
<li>At the end of the run, you will end up with several files</li>
<li>these show the complete results of your test run</li>
<li>You can include these files in your PR to k8s-conformance</li>

</ul>

</aside>
<div class="org-src-container">

<pre><code class="tmate" >      outfile=$(sonobuoy retrieve)
      mkdir ./results; tar xzf $outfile -C ./results
</code></pre>
</div>

<pre class="example" id="org94bc957">
    ./results/global
    ./results/global/junit_01.xml
    ./results/global/e2e.log
</pre>
</section>
</section>
<section>
<section id="slide-org6d9c6df">
<h3 id="org6d9c6df">Submit PR</h3>
<ul>
<li>fork <a href="https://github.com/cncf/k8s_conformance">k8s conformance</a> repo and open PR</li>
<li>In PR, include output logs and a product.yaml file</li>
<li>Complete instructions at <a href="https://github.com/cncf/k8s-conformance">github.com/cncf/k8s-conformance</a></li>

</ul>

</section>
<section id="slide-orgf9f6a6c">
<h4 id="orgf9f6a6c">Example Pull Request</h4>

<div id="orgcf35488" class="figure">
<p><img src="./example-pr.png" alt="example-pr.png" />
</p>
</div>

</section>
<section id="slide-org945dd66">
<h4 id="org945dd66">Files Changed</h4>
<aside class="notes">
<ul>
<li>this just shows the included files</li>

</ul>

</aside>


<div id="orgbcdd7e1" class="figure">
<p><img src="./example-pr_files-changed.png" alt="example-pr_files-changed.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org91fd786">
<h2 id="org91fd786">Tooling that makes the difference</h2>
<div class="outline-text-2" id="text-org91fd786">
</div>
</section>
</section>
<section>
<section id="slide-orgb7425d0">
<h3 id="orgb7425d0">Goals</h3>
<aside class="notes">
<ul>
<li>For the certification to have value, its api must be reliable and consistent.</li>
<li>We can ensure this through conformance tests.</li>
<li>APISnoop is intended to help with all aspects of test coverage.</li>

</ul>

</aside>
<p>
APISnoop is designed to help:
</p>
<ul>
<li><b><b>Identify</b></b> gaps in coverage</li>
<li><b><b>Close</b></b> these gaps with tests</li>
<li><b><b>Prevent</b></b> new gaps from happening</li>

</ul>

</section>
</section>
<section>
<section id="slide-orgd004835">
<h2 id="orgd004835">Taking Snoop for a test drive in kind</h2>
<aside class="notes">
<p>
Let&rsquo;s demonstrate some tooling by bringing up Snoop in kind
</p>

<ul>
<li>decoupled postgres database</li>
<li>powers each form of APISnoop</li>
<li>populated with:
<ul>
<li>live audit events from cluster</li>
<li>api schema from k/k <a href="https://github.com/kubernetes/kubernetes/tree/master/api/openapi-spec">swagger.json</a></li>
<li>audit events from CI job <a href="https://gcsweb.k8s.io/gcs/kubernetes-jenkins/logs/ci-kubernetes-gce-conformance-latest/1319331777721929728/artifacts/bootstrap-e2e-master/">api-audit.logs</a></li>

</ul></li>

</ul>

<p>
How can I deploy snoopdb in my cluster and ask my own questions about the API shape and usage?
</p>

</aside>

</section>
</section>
<section>
<section id="slide-org8562818">
<h3 id="org8562818">Launching</h3>
<div class="org-src-container">

<pre><code class="shell" >git clone https://github.com/cncf/apisnoop
cd apisnoop/kind
kind create cluster --image kindest/node:v1.22.1 --config kind+apisnoop.yaml
</code></pre>
</div>

<pre class="example" id="orgb0009af">
Creating cluster "kind" ...
 ‚Ä¢ Ensuring node image (kindest/node:v1.22.1) üñº  ...
 ‚úì Ensuring node image (kindest/node:v1.22.1) üñº
 ‚Ä¢ Preparing nodes üì¶ üì¶   ...
 ‚úì Preparing nodes üì¶ üì¶
 ‚Ä¢ Writing configuration üìú  ...
 ‚úì Writing configuration üìú
 ‚Ä¢ Starting control-plane üïπÔ∏è  ...
 ‚úì Starting control-plane üïπÔ∏è
 ‚Ä¢ Installing CNI üîå  ...
 ‚úì Installing CNI üîå
 ‚Ä¢ Installing StorageClass üíæ  ...
 ‚úì Installing StorageClass üíæ
 ‚Ä¢ Joining worker nodes üöú  ...
 ‚úì Joining worker nodes üöú
Set kubectl context to "kind-kind"
You can now use your cluster with:

kubectl cluster-info --context kind-kind

Have a nice day! üëã
</pre>

<aside class="notes">
<p>
Bringing up APISnoop on kind is easy.
</p>

<p>
Clone the APISnoop repo and create a kind cluster with it&rsquo;s configuration.
</p>

</aside>

</section>
</section>
<section>
<section id="slide-org6301b30">
<h3 id="org6301b30">Discovering untested endpoints</h3>
<div class="org-src-container">

<pre><code class="shell" >export HOST="${HOST:-localhost}"
psql -U apisnoop -d apisnoop -h $HOST -c "
SELECT
  endpoint,
  kind
FROM testing.untested_stable_endpoint
WHERE
  eligible is true
AND
  category = 'core'
ORDER BY
  kind, endpoint desc
LIMIT 5;"
</code></pre>
</div>

<div class="org-src-container">

<pre><code class="text" >               endpoint               |    kind
--------------------------------------+------------
 createcorev1namespacedpodbinding     | binding
 createcorev1namespacedbinding        | binding
 replacecorev1namespacedevent         | event
 patchcorev1namespacedlimitrange      | limitrange
 listcorev1limitrangeforallnamespaces | limitrange
(5 rows)

</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org847abc2">
<h3 id="org847abc2">an example (1/2)</h3>
<aside class="notes">
<p>
with the kind cluster up and apisnoop running on it, we&rsquo;re now able to inspect what&rsquo;s happening.
</p>

</aside>

<p>
create a namespace
</p>
<div class="org-src-container">

<pre><code class="shell" >kubectl create ns kubecon-na-2021
</code></pre>
</div>

<div class="org-src-container">

<pre><code class="text" >namespace/kubecon-na-2021 created
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgfd766e1">
<h3 id="orgfd766e1">an example (2/2)</h3>
<p>
snooping on your own cluster, with postgresql!
</p>
<div class="org-src-container">

<pre><code class="shell" >export host="${host:-localhost}"
psql -u apisnoop -d apisnoop -h $host -c "
select distinct endpoint
from   testing.audit_event
where  endpoint ilike 'space%'
and    useragent like 'kubectl/v1.21.2%'
order  by endpoint;"
</code></pre>
</div>

<div class="org-src-container">

<pre><code class="text" >          endpoint
-----------------------------
 createcorev1namespace
 listcorev1namespacedservice
(4 rows)

</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org5156b04">
<h3 id="org5156b04">Why is this important?</h3>
<aside class="notes">
<ul>
<li>find the endpoints that your workloads use and make sure they work everywhere!</li>
<li>discover if you are relying on alpha or beta features</li>

</ul>

</aside>

</section>
</section>
<section>
<section id="slide-org0d2acc0">
<h2 id="org0d2acc0">Identifying Gaps</h2>
<div class="outline-text-2" id="text-org0d2acc0">
</div>
</section>
</section>
<section>
<section id="slide-org36a46d3">
<h3 id="org36a46d3"><span class="todo TODO">TODO</span> UPDATE IMAGE <a href="https://apisnoop.cncf.io">apisnoop.cncf.io</a></h3>
<aside class="notes">
<ul>
<li>Visualizes test runs as an explorable graph</li>
<li>colour coded for conformance or just tested</li>
<li>sharable links to your concern (eg latest/core/networking)</li>
<li>see conformance progress</li>

</ul>

</aside>

<div id="org4d5570b" class="figure">
<p><img src="./kubecon-2021-north-america-sunburst.png" alt="kubecon-2021-north-america-sunburst.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org0202103">
<h2 id="org0202103">Closing gaps in Kubernetes Conformance Coverage</h2>
<div class="outline-text-2" id="text-org0202103">
</div>
</section>
</section>
<section>
<section id="slide-org542f639">
<h3 id="org542f639">DEMO</h3>
<aside class="notes">
<p>
[bring up the Pair instance with mock-template.org loaded]
</p>

<p>
Our test writing flow
</p>
<ul>
<li>custom query to find untested endpoints</li>
<li>write go code and execute it on the cluster</li>
<li>use snoopdb to see if this code hit expected endpoints</li>
<li>see projected change in coverage</li>
<li>export as PR</li>

</ul>

</aside>

</section>
</section>
<section>
<section id="slide-orga5af189">
<h2 id="orga5af189">Preventing gaps in Kubernetes Conformance Coverage</h2>
<aside class="notes">
<ul>
<li>We don&rsquo;t want to just fill in gaps in coverage. We want to prevent new gaps from forming</li>
<li>establish healthy baseline
<ul>
<li>Any endpoint promoted to GA must have a conformance test</li>
<li>Conformant tests should be consistent and reliable themselves</li>
<li>The cluster certification should always include all the tests</li>

</ul></li>
<li>automated as possible, so it&rsquo;s easier to follow</li>

</ul>

</aside>
</section>
</section>
<section>
<section id="slide-org3a0416b">
<h3 id="org3a0416b">testgrid.k8s.io</h3>
<aside class="notes">
<ul>
<li>track tests and jobs being run for the k8s project</li>
<li>can verify the health and hardiness of new tests</li>
<li>can implement new jobs for automating processes</li>

</ul>

</aside>

<div id="org4b5d36f" class="figure">
<p><img src="./kubecon-2021-north-america-testgrid.png" alt="kubecon-2021-north-america-testgrid.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-orge42fa2c">
<h3 id="orge42fa2c">sig-arch / conformance prow jobs</h3>
<p>
<a href="https://github.com/kubernetes/test-infra/tree/master/config/jobs/kubernetes/sig-arch">kubernetes/test-infra config/jobs/kubernetes/sig-arch</a>
</p>


<div id="org1932804" class="figure">
<p><img src="./kubecon-2021-north-america-prow-jobs.png" alt="kubecon-2021-north-america-prow-jobs.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org6d2598f">
<h3 id="org6d2598f">apisnoop-conformance-gate</h3>
<aside class="notes">
<ul>
<li>example job that will raise a notice before release of endpoints being promoted without conformance tests.</li>
<li>this job will help us notify sig-release that there is a new API that must have Conformance Tests OR be reverted before a release can happen.</li>

</ul>

</aside>
<p>
<a href="https://github.com/kubernetes/test-infra/blob/master/config/jobs/kubernetes/sig-arch/conformance-gate.yaml">Eventually Release Blocking Conformance Job</a>
</p>

<p>
Any new gaps in coverage are detected
</p>


<div id="org17bb440" class="figure">
<p><img src="./kubecon-2021-north-america-blocking-job.png" alt="kubecon-2021-north-america-blocking-job.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org227bafc">
<h2 id="org227bafc">Summary</h2>
<p>
To reduce gaps in Kubernetes Conformance Coverage
</p>
<dl>
<dt>Identify</dt><dd>using apisnoop.cncf.io + snoopdb</dd>
<dt>Close</dt><dd>Write and promote tests</dd>
<dt>Prevent</dt><dd>Release blocking jobs</dd>

</dl>

</section>
</section>
<section>
<section id="slide-org290d805">
<h2 id="org290d805">Verifying Conformance Submissons</h2>
<p>
<a href="https://prow.cncf.io">prow.cncf.io</a>
</p>
</section>
</section>
<section>
<section id="slide-orga7ff5b5">
<h3 id="orga7ff5b5">Results submitted</h3>

<div id="orgda5dc35" class="figure">
<p><img src="./kubecon-2021-north-america-pr-page.png" alt="kubecon-2021-north-america-pr-page.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org3f48154">
<h3 id="org3f48154">CNCF CI comments</h3>

<div id="org5b11e52" class="figure">
<p><img src="./kubecon-2021-north-america-prow-comments.png" alt="kubecon-2021-north-america-prow-comments.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-orgcfac692">
<h3 id="orgcfac692">Informational labels</h3>

<div id="org509ac57" class="figure">
<p><img src="./kubecon-2021-north-america-pr-labels.png" alt="kubecon-2021-north-america-pr-labels.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org4c58755">
<h3 id="org4c58755">Certified distributions</h3>

<div id="org7140311" class="figure">
<p><img src="./kubecon-2021-north-america-certified-distributions.png" alt="kubecon-2021-north-america-certified-distributions.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-org55e8f12">
<h3 id="org55e8f12">Certified Logo (tm)</h3>

<div id="orgdbf0ffa" class="figure">
<p><img src="./kubecon-2021-north-america-certified-logo.png" alt="kubecon-2021-north-america-certified-logo.png" />
</p>
</div>

</section>
</section>
<section>
<section id="slide-orgf7736fb">
<h2 id="orgf7736fb">Q&amp;A</h2>
</section>
</section>
<section>
<section id="slide-org18ebdf3">
<h2 id="org18ebdf3">Software used in this talk</h2>
<ul>
<li>Linux</li>
<li>OBS</li>
<li>Systemd</li>
<li>Kubernetes</li>
<li>Pair</li>
<li>tmate</li>
<li>Chromium</li>
<li>Firefox</li>
<li>go-http-server</li>
<li>Cert-Manager</li>
<li>External-DNS</li>
<li>PowerDNS</li>
<li>nginx-ingress</li>
<li>Humacs</li>

</ul>

</section>
</section>
<section>
<section id="slide-org2d20f2a">
<h3 id="org2d20f2a">reset</h3>
<div class="outline-text-3" id="text-org2d20f2a">
</div>
<ul class="org-ul">
<li><a id="org92fc721"></a>reset branch<br />
<div class="org-src-container">

<pre><code class="tmate" >     cd ~/apisnoop/docs/presentations/k8s-conformance
     git push ii :notkind-v1.18
</code></pre>
</div>
</li>

<li><a id="org3f28cd4"></a>delete k8s-conformance folder<br />
<div class="org-src-container">

<pre><code class="tmate" >       rm -rf ~/apisnoop/docs/presentations/k8s-conformance
</code></pre>
</div>
</li>
<li><a id="orgc86185e"></a>delete k8s-conformance folder<br />
<div class="org-src-container">

<pre><code class="tmate" >       rm -rf ~/apisnoop/docs/presentations/v1.*/
</code></pre>
</div>
</li>
<li><a id="orgc5e15f0"></a>Remove sonobuoy<br />
<div class="org-src-container">

<pre><code class="tmate" >       kubectl -n sonobuoy delete pod sonobuoy
</code></pre>
</div>
</li>
</ul>
</section>
</section>
<section>
<section id="slide-orgf43bbb9">
<h3 id="orgf43bbb9">target tmate</h3>
<div class="org-src-container">

<pre id="create tmate target"><code class="bash" >     tmate -S /tmp/kubecon
</code></pre>
</div>
</section>
</section>
<section>
<section id="slide-org8fa57b4">
<h3 id="org8fa57b4">STOW In Cluster Interfacing</h3>
<div class="org-src-container">

<pre><code class="bash" >      export PGUSER=apisnoop PGHOST=localhost
</code></pre>
</div>

<div class="org-src-container">

<pre><code class="bash" >      psql -c "select distinct useragent \
                 from testing.audit_event \
                 where useragent not ilike 'kube-%';"
</code></pre>
</div>

<pre class="example" id="org548a770">
                              useragent
   ----------------------------------------------------------------
    kubelet/v1.18.0 (linux/amd64) kubernetes/9e99141
    kindnetd/v0.0.0 (linux/amd64) kubernetes/$Format
    sonobuoy/v0.0.0 (darwin/amd64) kubernetes/$Format
    kubectl/v1.19.2 (darwin/amd64) kubernetes/f574309
    coredns/v0.0.0 (linux/amd64) kubernetes/$Format
    local-path-provisioner/v0.0.0 (linux/amd64) kubernetes/$Format
   (6 rows)

</pre>

</section>
</section>
<section>
<section id="slide-org92d4103">
<h3 id="org92d4103">Auditing the OpenAPI</h3>
<ul>
<li>APIServer can be configured to log usage</li>
<li>Combining an AuditPolicy and AuditSink</li>
<li>Usage is logged into SnoopDB in a cluster</li>

</ul>
</section>
</section>
<section>
<section id="slide-org488f1d6">
<h3 id="org488f1d6">SnoopDB in cluster</h3>
<ul>
<li>Identify in Cluster Usage</li>
<li>Focus on hitting Gaps in API</li>

</ul>
</section>
</section>
</div>
</div>
<script src="https://multiplex.kccncna2021.pair.sharing.io/dist/reveal.js"></script>
<script src="https://multiplex.kccncna2021.pair.sharing.io/plugin/markdown/markdown.js"></script>
<script src="https://multiplex.kccncna2021.pair.sharing.io/plugin/notes/notes.js"></script>
<script src="https://multiplex.kccncna2021.pair.sharing.io/plugin/highlight/highlight.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: false,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: true,
hashOneBasedIndex: false,
pdfSeparateFragments: true,

overview: true,
width: 1200,
height: 800,
margin: 0.00,
minScale: 0.20,
maxScale: 1.50,

transition: 'fade',
transitionSpeed: '1',
multiplex: {
    secret: null, // null if client
    id: '1ea00b34ec29b2a6', // id, obtained from socket.io server
    url: 'https://multiplex.kccncna2021.pair.sharing.io/' // Location of socket.io server
},

// Plugins with reveal.js 4.x
plugins: [ RevealMarkdown, RevealNotes, RevealHighlight,  ],

// Optional libraries used to extend reveal.js
dependencies: [
 { src: 'https://multiplex.kccncna2021.pair.sharing.io/socket.io/socket.io.js', async: true },
 { src: 'https://multiplex.kccncna2021.pair.sharing.io/plugin/multiplex/client.js', async: true }]

});
</script>
</body>
</html>
